{"version":3,"sources":["serviceWorkerRegistration.ts","reportWebVitals.ts","context/slices/notification.ts","services/createToken.tsx","context/hooks.ts","services/getCurrentLocation.tsx","services/distanceBetweenPoint.ts","components/Dashboard/Notification/interfaces.ts","styles/theme.tsx","services/mapbox/interfaces.ts","components/Dashboard/Notification/index.tsx","components/Dashboard/ZoomButton/index.tsx","components/Dashboard/Navigation/NavigationDrawer/SignalGenerator/index.tsx","components/Dashboard/Navigation/NavigationBox/index.tsx","components/Dashboard/Navigation/NavigationDrawer/index.tsx","context/slices/direction.ts","services/mapbox/auxiliary/dataCleaner.ts","services/axios/index.tsx","services/credentials.tsx","services/mapbox/index.ts","components/Dashboard/Navigation/LocomotioPicker/index.tsx","components/Dashboard/Navigation/index.tsx","components/Dashboard/ProductComponent/ProductResquestResponsive/ProductRequestDrawer/index.tsx","components/Dashboard/ProductComponent/ProductResquestResponsive/index.tsx","components/Dashboard/ProductComponent/ProductRequest/index.tsx","components/Dashboard/ProductComponent/index.tsx","components/Dashboard/CustomInput/index.tsx","components/Dashboard/NotificationAlert/index.tsx","components/Dashboard/index.tsx","components/Map/marker/index.tsx","components/Map/index.tsx","context/slices/places.ts","services/places.ts","App.tsx","styles/appStyle.tsx","context/slices/map.ts","context/store.ts","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ErrorCode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","useGetToken","jwt","app","name","date","Date","now","useAppSelector","useSelector","initialState","notification","type","NONE","notificationSlice","createSlice","reducers","changeNotification","action","payload","useGetCurrentLocation","actions","options","dispatch","useDispatch","departure","direction","configuration","locationWatchId","useRef","handleSuccess","useCallback","position","coords","latitude","toPrecision","longitude","accuracy","lat","lng","handleError","code","TIMEOUT","message","current","geolocation","watchPosition","PERMISSION_DENIED","cancelLocationWatch","clearWatch","useEffect","GEO_LOCATION_UNSUPPORTED","toRad","value","Math","PI","distanceBetweenPoint","NotificationType","lat1","lon1","lat2","lon2","dLat","dLon","radLat1","radLat2","a","sin","cos","atan2","sqrt","theme","createMuiTheme","palette","grayscale","dark","darkGray","main","light","responsiveFontSizes","Profile","customStyles","makeStyles","mapStyle","width","height","customMarker","color","warning","top","left","dashboardStyle","background","opacity","padding","drawerSelectedItem","CustomCollapse","styled","Collapse","Notification","React","useState","open","setOpen","severity","setSeverity","SUCCESS","success","WARNING","in","className","Alert","IconButton","aria-label","size","onClick","event","reason","fontSize","style","backgroundColor","memo","Cover","div","ZoomButton","zoom","map","onChangeZoom","flag","_zoom","Add","Remove","SignalGenerator","modifier","PlaceOutlined","PinDropOutlined","SubdirectoryArrowLeftOutlined","transform","SubdirectoryArrowRightOutlined","PanToolOutlined","CallMadeOutlined","ArrowUpwardOutlined","AutorenewOutlined","SyncOutlined","RedoOutlined","UndoOutlined","Help","SettingsBackupRestoreOutlined","NavigationBox","navigation","onClickBox","responsive","useTheme","display","flexDirection","justifyContent","alignItems","ArrowBackIos","margin","Typography","variant","maneuver","instruction","secondary","step","push","destinations","join","handleStepString","distance","toFixed","duration","CircularProgress","disableShrink","CustomDrawer","Drawer","NavigationDrawer","onDrawerClose","route","currentStep","listRef","undefined","children","c","tagName","classList","forEach","toString","attributes","ownerElement","add","anchor","onClose","marginRight","cursor","List","ref","legs","steps","index","paddingTop","paddingBottom","ListItem","ListItemIcon","StatusType","manageGeometry","data","coordinates","item","manageManeuver","bearing_after","bearing_before","manageSteps","response","driving_side","mode","geometry","manageLegs","summary","manageRoutes","manageWaypoints","instance","axios","create","baseURL","MAPBOX_TOKEN","process","REACT_APP_MAPBOX_TOKEN","alignCoordinates","target","validateCoordinates","getDirection","alternatives","profile","url","get","driving","status","fulfilled","requestDirection","createAsyncThunk","_","thunkAPI","getState","routes","waypoints","API_REQUEST_ERROR","directionSlice","setConfiguration","setStatus","extraReducers","builder","addCase","pending","rejected","Wrapper","LocomotionPicker","onClickLocomotion","setValue","BottomNavigation","onChange","newValue","BottomNavigationAction","icon","DriveEtaOutlined","about","cycling","DirectionsBikeOutlined","walking","DirectionsWalkOutlined","NavigationComponent","setCurrentStep","setNavigation","drawerFlag","setDrawerFlag","setRoutes","coordinate","parseInt","ProductRequestDrawer","onCloseDrawer","marginLeft","SearchProduct","ProductRequestResponsive","Menu","ProductRequest","ProductComponent","responsiveFlag","CI","TextField","CustomInput","onSetTarget","id","label","Button","startIcon","ArrowForwardIos","borderRadius","minWidth","preventDefault","document","getElementById","CustomDialog","Dialog","NotificationAlert","handleClose","reload","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","Dashboard","setResponsiveFlag","param","updateDimensions","innerWidth","addEventListener","removeEventListener","Navigation","MarkerComponent","description","useMemo","Marker","Popup","MapComponent","places","customStyle","mapRef","polyline","setPolyline","centerIcon","L","divIcon","html","renderToStaticMarkup","PersonPinCircle","primary","popupAnchor","optionIcon","LocationOn","setView","MapContainer","center","zoomAnimation","scrollWheelZoom","zoomControl","whenCreated","TileLayer","attribution","accessToken","tileSize","zoomOffset","length","Polyline","pathOptions","weight","positions","placesSlice","addPlace","getPlaces","App","setToken","enableHighAccuracy","timeout","maximumAge","setTimeout","Map","AppStyle","createGlobalStyle","mapSlice","changeZoom","reducer","combineReducers","store","configureStore","devTools","ReactDOM","render","StrictMode","ThemeProvider","URL","href","origin","fetch","headers","contentType","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.9b16ddcc.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\n\r\nexport enum ErrorCode {\r\n    //error\r\n    PERMISSION_DENIED = 'PERMISSION_DENIED',\r\n    POSITION_UNAVAILABLE = 'POSITION_UNAVAILABLE',\r\n    API_REQUEST_ERROR = 'API_REQUEST_ERROR',\r\n    GEO_LOCATION_UNSUPPORTED = 'GEO_LOCATION_UNSUPPORTED',\r\n    TIMEOUT = 'TIMEOUT',\r\n\r\n    //warning\r\n    WARNING = 'WARNING',\r\n\r\n    //success\r\n    SUCCESS = 'SUCCESS',\r\n    NONE = 'NONE',\r\n}\r\n\r\nexport interface MapType {\r\n    notification: string,\r\n    type: ErrorCode\r\n}\r\n\r\nconst initialState: MapType = {\r\n    notification: '',\r\n    type: ErrorCode.NONE\r\n}\r\n\r\nexport const notificationSlice = createSlice({\r\n    name: 'notification',\r\n    initialState: initialState,\r\n    reducers: {\r\n        changeNotification: (state, action: PayloadAction<MapType>) => {\r\n            state.notification = action.payload.notification\r\n            state.type = action.payload.type || ErrorCode.NONE\r\n        },\r\n    }\r\n})\r\n\r\n\r\nexport const {changeNotification} = notificationSlice.actions\r\n\r\nexport default notificationSlice.reducer","import * as jwt from 'jsonwebtoken';\r\n\r\n\r\nconst useGetToken = () => jwt.sign({ app: 'customer', name:'whereisitapp', date:Date.now() }, 'whereisitcustomerapp');\r\n\r\nexport default useGetToken\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\r\nimport type { RootState, DispatchState } from './store'\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<DispatchState>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import React, {useCallback, useEffect, useRef} from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nimport {useAppSelector} from \"../context/hooks\";\r\nimport {ErrorCode} from \"../context/slices/notification\";\r\n\r\n\r\nconst useGetCurrentLocation = (options: object = {}) => {\r\n    const dispatch = useDispatch()\r\n    const departure = useAppSelector(state => state.direction.configuration.departure)\r\n    const locationWatchId: React.MutableRefObject<undefined | number> = useRef();\r\n\r\n    const handleSuccess = useCallback((position: any) => {\r\n        console.log(\"Latitude: \" + position.coords.latitude.toPrecision(21) +\r\n            \" Longitude: \" + position.coords.longitude.toPrecision(21) +\r\n            \" Accuracy: \" + position.coords.accuracy\r\n        )\r\n        if (departure.lat !== position.coords.latitude || departure.lng !== position.coords.longitude) {\r\n            dispatch({\r\n                type: 'direction/setConfiguration', payload: {\r\n                    departure: {\r\n                        lat: position.coords.latitude,\r\n                        lng: position.coords.longitude,\r\n                    }\r\n                }\r\n            })\r\n            dispatch({type: 'notification/changeNotification', payload: {notification: ''}})\r\n        }\r\n    },[departure.lat, departure.lng, dispatch])\r\n\r\n    const handleError = useCallback((error: any) => {\r\n        if (error) {\r\n            switch (error.code) {\r\n                case (error.TIMEOUT):\r\n                    dispatch({type: 'notification/changeNotification', payload: {notification: error.message, type: ErrorCode.TIMEOUT}})\r\n                    locationWatchId.current = navigator.geolocation.watchPosition(handleSuccess, handleError, options)\r\n                    break;\r\n                case (error.PERMISSION_DENIED):\r\n                    dispatch({\r\n                        type: 'notification/changeNotification',\r\n                        payload: {notification: error.message, type: ErrorCode.PERMISSION_DENIED}\r\n                    })\r\n                    break;\r\n            }\r\n        }\r\n    },[dispatch, handleSuccess, options])\r\n\r\n    const cancelLocationWatch = () => {\r\n        if (locationWatchId.current && navigator.geolocation) {\r\n            navigator.geolocation.clearWatch(locationWatchId.current);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (navigator.geolocation) {\r\n            locationWatchId.current = navigator.geolocation.watchPosition(handleSuccess, handleError, options)\r\n        } else {\r\n            dispatch({\r\n                type: 'notification/changeNotification',\r\n                payload: {notification: \"It can't handle geo location\", type: ErrorCode.GEO_LOCATION_UNSUPPORTED}\r\n            })\r\n\r\n        }\r\n        return cancelLocationWatch\r\n    }, [dispatch, handleError, handleSuccess, options])\r\n\r\n    return cancelLocationWatch\r\n}\r\n\r\nexport default useGetCurrentLocation","\r\n// Converts numeric degrees to radians\r\nfunction toRad(value:number)\r\n{\r\n    return value * Math.PI / 180;\r\n}\r\n\r\n\r\n//This function takes in latitude and longitude of two location and returns the distance between them as the crow flies (in km)\r\nfunction distanceBetweenPoint(lat1:number, lon1:number, lat2:number, lon2:number)\r\n{\r\n    let R = 6371; // km\r\n    let dLat = toRad(lat2-lat1);\r\n    let dLon = toRad(lon2-lon1);\r\n    let radLat1 = toRad(lat1);\r\n    let radLat2 = toRad(lat2);\r\n\r\n    let a = Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n        Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(radLat1) * Math.cos(radLat2);\r\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n    return  R * c * 1000; //to meter\r\n}\r\n\r\n\r\n\r\nexport default distanceBetweenPoint\r\n","export enum NotificationType {\r\n    warning = 'warning',\r\n    error = 'error',\r\n    success = 'success'\r\n}","import {makeStyles, responsiveFontSizes, ThemeOptions, unstable_createMuiStrictModeTheme as createMuiTheme} from \"@material-ui/core\";\r\n\r\nimport {CSSProperties} from \"react\";\r\n\r\ndeclare module \"@material-ui/core/styles/createPalette\" {\r\n    interface Palette {\r\n        grayscale: {\r\n            light: CSSProperties['color'];\r\n            main: CSSProperties['color'];\r\n            dark: CSSProperties['color'];\r\n            darkGray: CSSProperties['color'];\r\n        }\r\n    }\r\n\r\n    interface PaletteOptions {\r\n        grayscale: {\r\n            light: CSSProperties['color'];\r\n            main: CSSProperties['color'];\r\n            dark: CSSProperties['color'];\r\n            darkGray: CSSProperties['color'];\r\n        }\r\n    }\r\n}\r\n\r\nfunction createMyTheme(options: ThemeOptions) {\r\n    return createMuiTheme({\r\n        palette: {\r\n            grayscale: {\r\n                dark: '#000000',\r\n                darkGray: '#232323',\r\n                main: '#777777',\r\n                light: '#ffffff',\r\n            }\r\n        },\r\n        ...options\r\n    })\r\n}\r\n\r\nlet theme = createMyTheme({})\r\n\r\ntheme = responsiveFontSizes(theme);\r\n\r\nconst customStyles = makeStyles({\r\n    mapStyle: {\r\n        width: '100%',\r\n        height: '100vh',\r\n        position: 'relative',\r\n    },\r\n    customMarker: {\r\n        position: 'absolute',\r\n        color: theme.palette.warning.main,\r\n        top: '-200%',\r\n        left: '-100%',\r\n        width: '2.3rem',\r\n        height: '2.3rem',\r\n    },\r\n    dashboardStyle: {\r\n        color: theme.palette.grayscale.light,\r\n        background: theme.palette.grayscale.dark,\r\n        opacity: '85%',\r\n        padding: '0.5rem',\r\n    },\r\n    drawerSelectedItem: {\r\n        background: theme.palette.warning.main,\r\n    }\r\n});\r\n\r\n\r\nexport {\r\n    theme,\r\n    customStyles\r\n}","import {LatLngTuple, LatLngLiteral} from \"leaflet\";\r\n\r\nexport enum Profile {\r\n    driving = 'driving',\r\n    cycling = 'cycling',\r\n    walking = 'walking',\r\n    drivingTraffic = 'driving-traffic'\r\n}\r\n\r\nexport interface DirectionsProps {\r\n    profile: string,\r\n    departure?: LatLngLiteral,\r\n    target?: Array<LatLngLiteral>,\r\n    steps: boolean,\r\n    alternatives: boolean,\r\n}\r\n\r\nexport interface Waypoints {\r\n    distance?: number,\r\n    name?: string,\r\n    location: LatLngTuple\r\n}\r\n\r\nexport interface Maneuver {\r\n    bearing_after: number,\r\n    bearing_before: number,\r\n    location: LatLngTuple,\r\n    type: string,\r\n    modifier?: string,\r\n    instruction: string\r\n}\r\n\r\nexport interface Geometry {\r\n    coordinates: Array<LatLngTuple>,\r\n    type: string\r\n}\r\n\r\nexport interface Step {\r\n    driving_side?: string,\r\n    destinations?:string,\r\n    mode: string,\r\n    duration: number,\r\n    name?: string,\r\n    distance: number,\r\n    maneuver: Maneuver\r\n    geometry: Geometry\r\n}\r\n\r\nexport interface Legs {\r\n    summary?: string,\r\n    distance: number,\r\n    duration: number,\r\n    steps: Array<Step>,\r\n}\r\n\r\nexport interface Route {\r\n    duration: number,\r\n    distance: number,\r\n    legs: Array<Legs>\r\n    geometry: Geometry,\r\n}\r\n\r\nexport interface Direction {\r\n    routes: Array<Route>\r\n    waypoints: Array<Waypoints>,\r\n}\r\n\r\n","import React, {memo, useEffect, useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Collapse, IconButton} from '@material-ui/core';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport {NotificationType} from \"./interfaces\";\r\nimport {customStyles} from \"../../../styles/theme\";\r\nimport {useAppSelector} from \"../../../context/hooks\";\r\nimport {ErrorCode} from \"../../../context/slices/notification\";\r\n\r\nconst CustomCollapse = styled(Collapse)`\r\n  position: absolute;\r\n  z-index: 500;\r\n  bottom: 40px;\r\n  left: 50px;\r\n  border-radius: 0;\r\n`;\r\n\r\nconst Notification = () => {\r\n    const {notification, type} = useAppSelector(state => state.error)\r\n\r\n    const {dashboardStyle} = customStyles()\r\n    const [open, setOpen] = React.useState(!notification);\r\n    const [severity, setSeverity] = useState<NotificationType>(NotificationType.warning)\r\n\r\n    const handleClose = (event: React.SyntheticEvent | React.MouseEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        if(type === ErrorCode.SUCCESS){\r\n            setSeverity(NotificationType.success)\r\n        }else if(type === ErrorCode.WARNING){\r\n            setSeverity(NotificationType.warning)\r\n        }else{\r\n            setSeverity(NotificationType.error)\r\n        }\r\n    },[type])\r\n\r\n    return <>\r\n        {\r\n            notification && <CustomCollapse in={open} className={dashboardStyle}>\r\n                <Alert severity={severity} action={\r\n                    <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\" onClick={handleClose}>\r\n                        <CloseIcon fontSize=\"inherit\"/>\r\n                    </IconButton>\r\n                } style={{backgroundColor: 'unset', color: 'white'}}>\r\n                    {notification}\r\n                </Alert>\r\n            </CustomCollapse>\r\n        }\r\n    </>\r\n\r\n}\r\n\r\nexport default memo(Notification)","import {memo} from \"react\";\r\nimport {Add, Remove} from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {customStyles} from \"../../../styles/theme\";\r\nimport {useAppSelector} from \"../../../context/hooks\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst Cover = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  bottom: 100px;\r\n  z-index: 500;\r\n\r\n  width: 20px;\r\n  height: 70px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n\r\n  cursor: pointer;\r\n`\r\n\r\nconst ZoomButton = () => {\r\n    const {dashboardStyle} = customStyles()\r\n    const {zoom} = useAppSelector(state => state.map)\r\n    const dispatch = useDispatch()\r\n\r\n    const onChangeZoom = (flag: boolean) => {\r\n        let _zoom = zoom\r\n        if (flag && zoom < 18) {\r\n            ++_zoom\r\n        }\r\n        if (!flag && _zoom > 12) {\r\n            --_zoom\r\n        }\r\n        dispatch({type: \"map/changeZoom\", payload: {zoom: _zoom}})\r\n    }\r\n\r\n    return <Cover className={dashboardStyle}>\r\n        <Add onClick={() => onChangeZoom(true)}/>\r\n        <Remove onClick={() => onChangeZoom(false)}/>\r\n    </Cover>\r\n}\r\n\r\nexport default memo(ZoomButton)","import {\r\n    ArrowUpwardOutlined,\r\n    AutorenewOutlined,\r\n    CallMadeOutlined,\r\n    Help,\r\n    PanToolOutlined,\r\n    PinDropOutlined,\r\n    PlaceOutlined,\r\n    RedoOutlined,\r\n    SettingsBackupRestoreOutlined,\r\n    SubdirectoryArrowLeftOutlined,\r\n    SubdirectoryArrowRightOutlined,\r\n    SyncOutlined,\r\n    UndoOutlined\r\n} from \"@material-ui/icons\";\r\n\r\nimport {SignalGeneratorProps} from \"./interfaces\";\r\n\r\nconst SignalGenerator = ({type, modifier}: SignalGeneratorProps) => {\r\n\r\n    if (type === 'arrive') {\r\n        // if (modifier === 'left') //TODO change icon for this\r\n        return <PlaceOutlined fontSize='large'/>\r\n        // if (modifier === 'right') //TODO change icon for this\r\n        //     return <PlaceOutlined className={navigationIcon} fontSize='large'/>\r\n    } else if (type === 'depart') {\r\n        return <PinDropOutlined fontSize='large'/>\r\n    } else if (type === 'end of road') {\r\n        if (modifier === 'left') {\r\n            return <SubdirectoryArrowLeftOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'right') {\r\n            return <SubdirectoryArrowRightOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        return <PanToolOutlined fontSize='large'/>\r\n    } else if (type === 'on ramp') {\r\n        if (modifier === 'left') {\r\n            return <SubdirectoryArrowLeftOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'right') {\r\n            return <SubdirectoryArrowRightOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'slight right') { //TODO change icon for this\r\n            return <CallMadeOutlined fontSize='large'/>\r\n        } else {//if (modifier === 'slight left') //TODO change icon for this\r\n            return <CallMadeOutlined style={{transform: 'rotateY(180deg)'}} fontSize='large'/>\r\n        }\r\n    } else if (type === 'turn') {\r\n        if (modifier === 'right') {\r\n            return <SubdirectoryArrowRightOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'slight right') { //TODO change icon for this\r\n            return <CallMadeOutlined fontSize='large'/>\r\n        }\r\n        if (modifier === 'left') {\r\n            return <SubdirectoryArrowLeftOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'slight left') { //TODO change icon for this\r\n            return <CallMadeOutlined style={{transform: 'rotateY(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'straight') { //TODO change icon for this\r\n            return <ArrowUpwardOutlined fontSize='large'/>\r\n        }\r\n        if (modifier === 'sharp right') { //TODO change icon for this\r\n            return <SubdirectoryArrowRightOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'sharp left') { //TODO change icon for this\r\n            return <SubdirectoryArrowLeftOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n    } else if (type === 'off ramp') {\r\n        if (modifier === 'slight right') { //TODO change icon for this\r\n            return <CallMadeOutlined fontSize='large'/>\r\n        } else {//if (modifier === 'slight left') //TODO change icon for this\r\n            return <CallMadeOutlined style={{transform: 'rotateY(180deg)'}} fontSize='large'/>\r\n        }\r\n    } else if (type === 'fork') {\r\n        if (modifier === 'slight right') { //TODO change icon for this\r\n            return <CallMadeOutlined fontSize='large'/>\r\n        } else {//if (modifier === 'slight left') //TODO change icon for this\r\n            return <CallMadeOutlined style={{transform: 'rotateY(180deg)'}} fontSize='large'/>\r\n        }\r\n    } else if (type === 'roundabout') {\r\n        if (modifier === 'slight right' || modifier === 'right') {\r\n            return <AutorenewOutlined fontSize='large'/>\r\n        }\r\n        if (modifier === 'slight left' || modifier === 'left') {\r\n            return <SyncOutlined fontSize='large'/>\r\n        }\r\n\r\n        if (modifier === 'straight') {\r\n            return <ArrowUpwardOutlined fontSize='large'/>\r\n        }\r\n    } else if (type === 'roundabout turn') {\r\n        if (modifier === 'right') {\r\n            return <RedoOutlined fontSize='large'/>\r\n        }\r\n        if (modifier === 'left') {\r\n            return <UndoOutlined fontSize='large'/>\r\n        }\r\n        if (modifier === 'slight right') { //TODO change icon for this\r\n            return <RedoOutlined fontSize='large'/>\r\n        } else {  //(modifier === 'slight left')\r\n            return <UndoOutlined fontSize='large'/>\r\n        }\r\n    } else if (type === 'new name') { //TODO to change soon\r\n        if (modifier === 'slight right') {\r\n            return <CallMadeOutlined fontSize='large'/>\r\n        }\r\n        if (modifier === 'slight left') {\r\n            return <CallMadeOutlined fontSize='large'/>\r\n        }\r\n        // if (modifier === 'slight left' || modifier === 'left') {\r\n        //     return <SyncOutlined    fontSize='large'/>\r\n        // }\r\n        if (modifier === 'straight') {\r\n            return <ArrowUpwardOutlined fontSize='large'/>\r\n        }\r\n    } else if (type === 'continue') {\r\n        if (modifier === 'left') {\r\n            return <SubdirectoryArrowLeftOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'right') {\r\n            return <SubdirectoryArrowRightOutlined style={{transform: 'rotateX(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'uturn') {\r\n            return <SettingsBackupRestoreOutlined fontSize='large'/>\r\n        }\r\n        if (modifier === 'slight right') { //TODO change icon for this\r\n            return <CallMadeOutlined fontSize='large'/>\r\n        }\r\n        if (modifier === 'slight left') { //TODO change icon for this\r\n            return <CallMadeOutlined style={{transform: 'rotateY(180deg)'}} fontSize='large'/>\r\n        }\r\n        if (modifier === 'straight') { //TODO change icon for this\r\n            return <ArrowUpwardOutlined fontSize='large'/>\r\n        }\r\n    } else { //(modifier==='straight')\r\n        return <Help fontSize='large'/>\r\n    }\r\n}\r\n\r\nexport default SignalGenerator","import React, {FC, memo} from \"react\";\r\nimport {ArrowBackIos} from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\nimport {CircularProgress, Typography, useTheme} from \"@material-ui/core\";\r\n\r\nimport {customStyles} from \"../../../../styles/theme\";\r\nimport {NavigatorProps} from \"./interfaces\";\r\nimport SignalGenerator from \"../NavigationDrawer/SignalGenerator\";\r\nimport {Step} from \"../../../../services/mapbox/interfaces\";\r\n\r\nconst Cover = styled.div`\r\n  min-height: 40px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  margin-bottom: 5px;\r\n`\r\n\r\nconst NavigationBox: FC<NavigatorProps> = ({navigation, onClickBox, responsive}) => {\r\n    const theme = useTheme()\r\n    const {dashboardStyle} = customStyles()\r\n\r\n\r\n    // TODO separate this function and the one in the drawer to an external file\r\n    const handleStepString = (step: Step): string => {\r\n        let value: Array<string> = []\r\n        if (step.name) {\r\n            value.push(step.name)\r\n        }\r\n        if (step.destinations) {\r\n            value.push(step.destinations)\r\n        }\r\n        return value.join('\\n')\r\n    }\r\n\r\n    return <Cover theme={theme} onClick={onClickBox} className={dashboardStyle}\r\n                  style={{width: responsive ? '80px' : '260px'}}>\r\n        {\r\n            navigation ? <div style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"space-between\",\r\n                    alignItems: \"center\",\r\n                    width: '100%'\r\n                }}>\r\n                    <ArrowBackIos fontSize={'small'} style={{margin: '0 0.5rem'}}/>\r\n                    {\r\n                        !responsive && <div style={{display: 'flex', flexDirection: 'column'}}>\r\n                            <Typography variant={'body1'}>{navigation.maneuver.instruction}</Typography>\r\n\r\n                            <Typography variant='body2' style={{color: theme.palette.secondary.main}}>{\r\n                                handleStepString(navigation)\r\n                            }</Typography>\r\n\r\n                            <Typography variant='subtitle2' style={{color: theme.palette.grayscale.main}}>\r\n                                {navigation.distance.toFixed()} meters | {(navigation.duration / 60).toFixed()} min\r\n                            </Typography>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        SignalGenerator({\r\n                            type: navigation.maneuver.type,\r\n                            modifier: navigation.maneuver.modifier,\r\n                        })\r\n                    }\r\n                </div>\r\n                : <CircularProgress disableShrink style={{color: \"white\"}} size={25}/>\r\n        }\r\n    </Cover>\r\n}\r\n\r\nexport default memo(NavigationBox)","import React, {FC, memo, useCallback} from \"react\";\r\nimport {Drawer, List, ListItem, ListItemIcon, Typography, useTheme} from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\nimport {Close} from \"@material-ui/icons\";\r\n\r\n\r\nimport {customStyles} from \"../../../../styles/theme\";\r\nimport {NavigationDrawerParams} from \"./interfaces\";\r\nimport {Step} from \"../../../../services/mapbox/interfaces\";\r\nimport SignalGenerator from \"./SignalGenerator\";\r\n\r\nconst CustomDrawer = styled(Drawer)`\r\n  .MuiPaper-root {\r\n    background-color: ${({theme}) => theme.palette.grayscale.darkGray};\r\n    opacity: 90%;\r\n    width: 310px;\r\n  }\r\n`;\r\n\r\nconst NavigationDrawer: FC<NavigationDrawerParams> = ({open, onDrawerClose, route, currentStep}) => {\r\n    const {drawerSelectedItem} = customStyles()\r\n    const theme = useTheme()\r\n\r\n    const handleStepString = (step: Step): string => {\r\n        let value: Array<string> = []\r\n        if (step.name) {\r\n            value.push(step.name)\r\n        }\r\n        if (step.destinations) {\r\n            value.push(step.destinations)\r\n        }\r\n        return value.join('\\n')\r\n    }\r\n\r\n    const listRef = useCallback((value: HTMLUListElement) => {\r\n        if (value && currentStep !== undefined) {\r\n            for (let c of value.children) {\r\n                if (c.tagName === 'DIV') {\r\n                    c.classList.forEach(value => {\r\n                        if (value === currentStep.toString()) {\r\n                            c.attributes[0].ownerElement?.classList.add(drawerSelectedItem)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }, [currentStep, drawerSelectedItem])\r\n\r\n\r\n    return <CustomDrawer anchor={\"right\"} open={open} onClose={onDrawerClose} theme={theme}>\r\n        <Close fontSize=\"inherit\" onClick={onDrawerClose}\r\n               style={{\r\n                   color: theme.palette.grayscale.main,\r\n                   marginRight: '90%',\r\n                   padding: '10px 0 0 8px',\r\n                   cursor: 'pointer'\r\n               }}/>\r\n        <List ref={listRef}>\r\n            {\r\n                route && route.legs[0].steps.map((step, index) => {\r\n                    return <div style={{paddingTop: '4px', paddingBottom: '6px'}} className={`${index}`} key={index}>\r\n\r\n                        <ListItem alignItems=\"flex-start\" >\r\n\r\n                            <ListItemIcon style={{color: 'white'}}>\r\n                                {\r\n                                    SignalGenerator({\r\n                                        type: step.maneuver.type,\r\n                                        modifier: step.maneuver.modifier,\r\n                                    })\r\n                                }\r\n                            </ListItemIcon>\r\n\r\n                            <div style={{display: 'flex', flexDirection: 'column'}}>\r\n                                <Typography variant={'body1'}\r\n                                            style={{color: theme.palette.grayscale.light}}>{step.maneuver.instruction}</Typography>\r\n\r\n                                <Typography variant='body2' style={{color: theme.palette.secondary.main}}>{\r\n                                    handleStepString(step)\r\n                                }</Typography>\r\n\r\n                                <Typography variant='subtitle2' style={{color: theme.palette.grayscale.main}}>\r\n                                    {step.distance.toFixed()} meters | {(step.duration / 60).toFixed()} min\r\n                                </Typography>\r\n                            </div>\r\n                        </ListItem>\r\n                    </div>\r\n                })\r\n            }\r\n        </List>\r\n    </CustomDrawer>\r\n}\r\n\r\nexport default memo(NavigationDrawer)","import {Direction, Profile} from \"../../services/mapbox/interfaces\";\r\nimport {LatLngLiteral} from \"leaflet\";\r\nimport {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {manageRoutes, manageWaypoints} from \"../../services/mapbox/auxiliary/dataCleaner\";\r\nimport {getDirection} from \"../../services/mapbox\";\r\nimport {RootState} from \"../store\";\r\nimport {ErrorCode} from \"./notification\";\r\n\r\n\r\nexport interface DirectionConfigurationType {\r\n    profile: Profile,\r\n    departure: LatLngLiteral,\r\n    target: Array<LatLngLiteral> | undefined,\r\n    steps: boolean,\r\n    alternatives: boolean\r\n}\r\n\r\nexport enum StatusType {\r\n    pending = 'pending',\r\n    fulfilled = 'fulfilled',\r\n    rejected = 'rejected'\r\n}\r\n\r\nexport interface DirectionType {\r\n    configuration: DirectionConfigurationType,\r\n    direction: Direction | undefined,\r\n    status: string,\r\n}\r\n\r\n\r\nconst initialState: DirectionType = {\r\n    configuration: {\r\n        profile: Profile.driving,\r\n        departure: {lat:0,lng:0},\r\n        target: [{lat: 25.69125971191103, lng: -80.3877791296447}],\r\n        steps: true, //mandatory\r\n        alternatives: false //unnecessary alternative}\r\n    },\r\n    direction: undefined,\r\n    status: StatusType.fulfilled,\r\n}\r\n\r\nexport const requestDirection = createAsyncThunk(\r\n    'direction/requestDirection',\r\n    // async ({alternatives, steps, departure, profile, target}: DirectionConfigurationType, thunkAPI) => {\r\n    async (_, thunkAPI) => {\r\n\r\n        try {\r\n            const {direction} = thunkAPI.getState() as RootState\r\n\r\n            let {data} = await getDirection({\r\n                alternatives: direction.configuration.alternatives,\r\n                target: direction.configuration.target,\r\n                departure: direction.configuration.departure,\r\n                profile: direction.configuration.profile,\r\n                steps: direction.configuration.steps,\r\n            })\r\n            thunkAPI.dispatch({type: 'notification/changeNotification', payload:{notification:''}})\r\n\r\n            return {\r\n                routes: manageRoutes(data.routes),\r\n                waypoints: manageWaypoints(data.waypoints)\r\n            } as Direction\r\n\r\n        } catch (error) {\r\n            console.log('direction request error: ', error)\r\n            thunkAPI.dispatch({type: 'notification/changeNotification', payload:{notification:error.message, type: ErrorCode.API_REQUEST_ERROR}})\r\n        }\r\n    }\r\n)\r\n\r\nexport const directionSlice = createSlice({\r\n    name: 'direction',\r\n    initialState: initialState,\r\n    reducers: {\r\n        setConfiguration: (state, action: PayloadAction<DirectionConfigurationType>) => {\r\n            state.configuration = {...state.configuration, ...action.payload}\r\n        },\r\n        setStatus: (state, action) => {\r\n            state.status = action.payload.status\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(requestDirection.pending, (state) => {\r\n            state.status = StatusType.pending\r\n            state.direction = undefined\r\n        })\r\n        builder.addCase(requestDirection.fulfilled, (state, {payload}) => {\r\n            state.status = StatusType.fulfilled\r\n            state.direction = payload!\r\n        })\r\n        builder.addCase(requestDirection.rejected, (state) => {\r\n            state.status = StatusType.rejected\r\n        })\r\n    }\r\n})\r\n\r\nexport const {setConfiguration, setStatus} = directionSlice.actions\r\n\r\nexport default directionSlice.reducer","import {Geometry, Legs, Maneuver, Route, Step, Waypoints} from '../interfaces';\r\nimport {LatLngTuple} from 'leaflet';\r\n\r\nconst manageGeometry = (data: Geometry): Geometry => {\r\n    let coordinates: Array<LatLngTuple> = []\r\n\r\n    data.coordinates.forEach(item => {\r\n        coordinates.push([item[1], item[0]])\r\n    })\r\n\r\n    return {\r\n        type: data.type,\r\n        coordinates: coordinates\r\n    }\r\n}\r\n\r\nconst manageManeuver = (data: Maneuver): Maneuver => {\r\n    return {\r\n        bearing_after: data.bearing_after,\r\n        bearing_before: data.bearing_before,\r\n        location: [data.location[1], data.location[0]],\r\n        instruction: data.instruction,\r\n        type: data.type,\r\n        modifier:data.modifier\r\n    }\r\n}\r\n\r\nconst manageSteps = (data: Array<Step>): Array<Step> => {\r\n    let response: Array<Step> = []\r\n\r\n    data.forEach((item: Step) => {\r\n        response.push({\r\n            driving_side: item.driving_side,\r\n            destinations: item.destinations,\r\n            mode: item.mode,\r\n            duration: item.duration,\r\n            name: item.name,\r\n            distance: item.distance,\r\n            maneuver: manageManeuver(item.maneuver),\r\n            geometry: manageGeometry(item.geometry)\r\n        })\r\n    })\r\n    return response\r\n}\r\n\r\nconst manageLegs = (data: Array<Legs>): Array<Legs> => {\r\n    let response: Array<Legs> = []\r\n    data.forEach((item: Legs) => {\r\n        response.push({\r\n            summary: item.summary,\r\n            distance: item.distance,\r\n            duration: item.distance,\r\n            steps: manageSteps(item.steps)\r\n        })\r\n    })\r\n    return response\r\n}\r\n\r\n\r\nconst manageRoutes = (data: Array<Route>): Array<Route> => {\r\n    let response: Array<Route> = []\r\n\r\n    data.forEach((item: Route) => {\r\n        response.push({\r\n            duration: item.duration,\r\n            distance: item.distance,\r\n            legs: manageLegs(item.legs),\r\n            geometry: manageGeometry(item.geometry)\r\n        })\r\n    })\r\n\r\n    return response\r\n}\r\n\r\nconst manageWaypoints = (data: Array<Waypoints>): Array<Waypoints> => {\r\n    let response: Array<Waypoints> = []\r\n\r\n    data.forEach(item => {\r\n        response.push({\r\n            distance: item.distance,\r\n            location: [item.location[1], item.location[0]],\r\n            name: item.name\r\n        })\r\n    })\r\n\r\n    return response\r\n}\r\n\r\n\r\nexport {\r\n    manageRoutes,\r\n    manageWaypoints\r\n}","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://api.mapbox.com/directions/v5/mapbox/'\r\n})\r\n\r\nexport default instance","export const MAPBOX_TOKEN = process.env.REACT_APP_MAPBOX_TOKEN","import {LatLngLiteral} from \"leaflet\";\r\n\r\nimport axios from \"./../axios\";\r\nimport {Direction, DirectionsProps} from \"./interfaces\";\r\nimport {MAPBOX_TOKEN} from \"../credentials\";\r\n\r\nconst isLatLngLiteral = (data: object): data is LatLngLiteral => {\r\n    //method to check if the type is LatLngLiteral\r\n    return (data as LatLngLiteral).lat !== undefined && (data as LatLngLiteral).lng !== undefined\r\n}\r\n\r\nconst alignCoordinates = (departure: LatLngLiteral, target: Array<LatLngLiteral>): string => {\r\n    let coordinates: Array<string> = [`${departure.lng}%2C${departure.lat}`,]\r\n\r\n    target.map((item) => coordinates.push(`${item.lng}%2C${item.lat}`))\r\n    return coordinates.join('%3B')\r\n}\r\n\r\nconst validateCoordinates = (coordinates: LatLngLiteral | Array<LatLngLiteral>): boolean => {\r\n    let flag: boolean = false\r\n\r\n    if (isLatLngLiteral(coordinates)) {\r\n        flag = coordinates.lng !== 0 && coordinates.lat !== 0\r\n    } else {\r\n        for (let item of coordinates) {\r\n            flag = validateCoordinates(item)\r\n        }\r\n    }\r\n\r\n    return flag\r\n}\r\n\r\nexport const getDirection = async ({alternatives, target, departure, profile, steps}: DirectionsProps) => {\r\n    let coordinates: string = ''\r\n\r\n    if (departure && target && validateCoordinates(departure) && validateCoordinates(target)) {\r\n        coordinates = alignCoordinates(departure, target)\r\n    }\r\n\r\n    let url = `${profile}/${coordinates}?alternatives=${alternatives}&geometries=geojson&steps=${steps}&bearings=60,45;45,45&overview=full&access_token=${MAPBOX_TOKEN}`\r\n\r\n    return await axios.get<Direction>(url)\r\n}","import {memo, useCallback, useState} from \"react\";\r\nimport {BottomNavigation, BottomNavigationAction, useTheme} from \"@material-ui/core\";\r\nimport {DirectionsBikeOutlined, DirectionsWalkOutlined, DriveEtaOutlined} from \"@material-ui/icons\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {customStyles} from \"../../../../styles/theme\";\r\nimport {Profile} from \"../../../../services/mapbox/interfaces\";\r\nimport {StatusType} from \"../../../../context/slices/direction\";\r\n\r\nconst Wrapper = styled.div`\r\n  width: 130px;\r\n\r\n  .MuiBottomNavigation-root {\r\n    background-color: unset;\r\n    height: unset;\r\n  }\r\n\r\n  .MuiBottomNavigationAction-root {\r\n    max-width: unset;\r\n    min-width: unset;\r\n    color: unset;\r\n  }\r\n\r\n  .MuiBottomNavigationAction-root.Mui-selected {\r\n    color: ${({theme}) => theme.palette.warning.main};\r\n    padding-top: 8px;\r\n  }\r\n\r\n  .MuiBottomNavigationAction-root.MuiBottomNavigationAction-iconOnly {\r\n    padding-top: 8px;\r\n  }\r\n`;\r\n\r\nconst LocomotionPicker = () => {\r\n    const {dashboardStyle} = customStyles()\r\n    const theme = useTheme()\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const onClickLocomotion = useCallback((value: Profile) => {\r\n        dispatch({type: 'direction/setConfiguration', payload: {profile: value}})\r\n        dispatch({type: 'direction/setStatus', payload: {status: StatusType.pending}})\r\n\r\n    }, [dispatch])\r\n\r\n    const [value, setValue] = useState(0)\r\n\r\n    return <Wrapper style={{padding: 0}} className={dashboardStyle} theme={theme}>\r\n        <BottomNavigation value={value} onChange={(event, newValue) => {\r\n            setValue(newValue);\r\n        }}>\r\n            <BottomNavigationAction onClick={() => onClickLocomotion(Profile.driving)}\r\n                                    icon={<DriveEtaOutlined fontSize={\"small\"}/>} about={\"Driving\"}/>\r\n            <BottomNavigationAction onClick={() => onClickLocomotion(Profile.cycling)}\r\n                                    icon={<DirectionsBikeOutlined fontSize={\"small\"}/>} about={\"Cycling\"}/>\r\n            <BottomNavigationAction onClick={() => onClickLocomotion(Profile.walking)}\r\n                                    icon={<DirectionsWalkOutlined fontSize={\"small\"}/>} about={\"Walking\"}/>\r\n        </BottomNavigation>\r\n    </Wrapper>\r\n}\r\n\r\nexport default memo(LocomotionPicker)","import {FC, memo, useCallback, useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport NavigationBox from \"./NavigationBox\";\r\nimport NavigationDrawer from \"./NavigationDrawer\";\r\nimport {NavigationComponentProps} from \"./interfaces\";\r\nimport {distanceBetweenPoint} from \"../../../services\";\r\nimport LocomotionPicker from \"./LocomotioPicker\";\r\nimport {Route, Step} from \"../../../services/mapbox/interfaces\";\r\nimport {useAppSelector} from \"../../../context/hooks\";\r\n\r\nconst Wrapper = styled.div`\r\n  top: 20px;\r\n  right: 25px;\r\n  position: absolute;\r\n  z-index: 500;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst NavigationComponent: FC<NavigationComponentProps> = ({location, responsive}) => {\r\n    const {direction} = useAppSelector(state => state.direction)\r\n\r\n    const [currentStep, setCurrentStep] = useState<number>()\r\n\r\n    const [navigation, setNavigation] = useState<Step>();\r\n\r\n    const [drawerFlag, setDrawerFlag] = useState<boolean>(false)\r\n\r\n    const [routes, setRoutes] = useState<Route>()\r\n\r\n    const onClickBox = useCallback(() => {\r\n        setDrawerFlag(!drawerFlag)\r\n    }, [drawerFlag])\r\n\r\n    useEffect(() => {\r\n        if (direction) {\r\n            setRoutes(direction.routes[0])\r\n        }\r\n    }, [direction])\r\n\r\n    useEffect(() => {\r\n        if (direction) {\r\n            direction?.routes[0].legs[0].steps.forEach((step, index) => {\r\n                let distance = 0\r\n                step.geometry.coordinates.forEach((coordinate) => {\r\n                    distance = distanceBetweenPoint(location.lat, location.lng, coordinate[0], coordinate[1])\r\n                    //TODO delete this\r\n                    console.log('DISTANCE IN METERS -> : ', parseInt(distance.toFixed(2)))\r\n\r\n                    //TODO customizable error for current position\r\n                    if (parseInt(distance.toFixed(2)) < 90)\r\n                        setCurrentStep(index)\r\n                })\r\n\r\n            })\r\n        }\r\n    }, [direction, direction?.routes, location.lat, location.lng])\r\n\r\n    useEffect(() => {\r\n        if (currentStep !== undefined && direction) {\r\n            setNavigation(direction?.routes[0].legs[0].steps[currentStep])\r\n        }\r\n    }, [currentStep, direction, direction?.routes])\r\n\r\n    return <>\r\n        <Wrapper>\r\n            <NavigationBox navigation={navigation} onClickBox={onClickBox} responsive={responsive}/>\r\n            {\r\n                navigation && <LocomotionPicker/>\r\n            }\r\n        </Wrapper>\r\n        {\r\n            routes && <NavigationDrawer open={drawerFlag && currentStep !== undefined} onDrawerClose={onClickBox}\r\n                           route={routes} currentStep={currentStep}/>\r\n        }\r\n    </>\r\n}\r\n\r\nexport default memo(NavigationComponent)","import React, {FC, memo} from \"react\";\r\nimport {Drawer, useTheme} from \"@material-ui/core\";\r\nimport {Close} from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {ProductRequestDrawerProps} from \"./interfaces\";\r\n\r\nconst CustomDrawer = styled(Drawer)`\r\n  .MuiPaper-root {\r\n    background-color: ${({theme}) => theme.palette.grayscale.darkGray};\r\n    opacity: 90%;\r\n    width: 310px;\r\n  }\r\n`;\r\n\r\nconst ProductRequestDrawer: FC<ProductRequestDrawerProps> = ({open, onCloseDrawer}) => {\r\n    const theme = useTheme()\r\n\r\n    return <CustomDrawer anchor={\"left\"} open={open} onClose={onCloseDrawer} theme={theme}>\r\n        <Close fontSize=\"inherit\" onClick={onCloseDrawer}\r\n               style={{\r\n                   color: theme.palette.grayscale.main,\r\n                   marginLeft: '90%',\r\n                   padding: '10px 8px 0 0',\r\n                   cursor: 'pointer'\r\n               }}/>\r\n    </CustomDrawer>\r\n}\r\n\r\nexport default memo(ProductRequestDrawer)","import React, {memo, useCallback, useState} from \"react\";\r\nimport {Menu} from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {customStyles} from \"../../../../styles/theme\";\r\nimport ProductRequestDrawer from \"./ProductRequestDrawer\";\r\n\r\n\r\nconst SearchProduct = styled.div`\r\n  width: 20px;\r\n  height: 20px;\r\n  left: 25px;\r\n  top: 25px;\r\n  position: absolute;\r\n  z-index: 500;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  padding: 8px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ProductRequestResponsive = () => {\r\n    const {dashboardStyle} = customStyles();\r\n    const [open, setOpen] = useState<boolean>(false);\r\n\r\n    const onCloseDrawer = useCallback(() => {\r\n        setOpen(!open)\r\n    }, [open])\r\n\r\n    return <SearchProduct className={dashboardStyle} onClick={() => setOpen(!open)}>\r\n        <Menu fontSize=\"large\"/>\r\n        <ProductRequestDrawer open={open} onCloseDrawer={onCloseDrawer}/>\r\n    </SearchProduct>\r\n}\r\n\r\nexport default memo(ProductRequestResponsive)","import React, {memo} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport {customStyles} from \"../../../../styles/theme\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  width: 300px;\r\n  height: 100vh;\r\n  top:0;\r\n  left: 0;\r\n  \r\n  position: absolute;\r\n  z-index: 500;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  padding: 8px;\r\n  cursor: pointer;\r\n`;\r\n\r\n\r\nconst ProductRequest = () => {\r\n    const {dashboardStyle} = customStyles()\r\n\r\n    return <Wrapper className={dashboardStyle}>\r\n        testing panel\r\n    </Wrapper>\r\n}\r\n\r\nexport default memo(ProductRequest)","import React, {FC, memo} from \"react\";\r\n\r\nimport ProductRequestResponsive from \"./ProductResquestResponsive\";\r\nimport ProductRequest from \"./ProductRequest\";\r\n\r\n\r\nexport interface ProductRequestProps {\r\n    responsiveFlag: boolean\r\n}\r\n\r\nconst ProductComponent: FC<ProductRequestProps> = ({responsiveFlag}) => {\r\n\r\n    return responsiveFlag ? <ProductRequestResponsive/> : <ProductRequest/>\r\n}\r\n\r\nexport default memo(ProductComponent)","import React, {FC, memo} from \"react\";\r\nimport {Button, TextField, useTheme} from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\nimport {ArrowForwardIos} from \"@material-ui/icons\";\r\n\r\nimport {CustomInputParams} from \"./interface\";\r\n\r\nconst Cover = styled.div`\r\n  right: 25px;\r\n  top: 200px;\r\n  width: 260px;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  z-index: 450;\r\n  position: absolute;\r\n\r\n  .MuiInputBase-input {\r\n    color: ${({theme}) => theme.palette.grayscale.dark};\r\n    font-size: large;\r\n  }\r\n\r\n  .MuiFormLabel-root {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  .MuiFormLabel-root.Mui-focused {\r\n    color: ${({theme}) => theme.palette.warning.main};\r\n  }\r\n`\r\n\r\nconst CI = styled(TextField)`\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst CustomInput: FC<CustomInputParams> = ({onSetTarget}) => {\r\n    const theme = useTheme()\r\n\r\n    const textFieldHandler = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        event.preventDefault()\r\n        // @ts-ignore\r\n        let lat = document.getElementById('lat').value;\r\n        // @ts-ignore\r\n        let lng = document.getElementById('lng').value;\r\n\r\n        onSetTarget({lat: lat, lng: lng})\r\n\r\n    }\r\n\r\n    return <Cover theme={theme}>\r\n        <div style={{display: 'flex', flexDirection: 'column'}}>\r\n            <CI id={'lat'} label=\"Latitude\" variant=\"filled\"/>\r\n            <CI id={'lng'} label=\"Longitude\" variant=\"filled\"/>\r\n        </div>\r\n        <Button variant=\"contained\" color=\"default\" startIcon={<ArrowForwardIos/>}\r\n                style={{\r\n                    color: theme.palette.grayscale.light,\r\n                    background: theme.palette.grayscale.dark,\r\n                    opacity: '85%',\r\n                    borderRadius: '0px',\r\n                    padding: '0.5rem',\r\n                    height: '130px',\r\n                    margin: '0 0 1rem 0.5rem',\r\n                    minWidth: '2rem',\r\n                }}\r\n                onClick={textFieldHandler}/>\r\n    </Cover>\r\n\r\n}\r\n\r\nexport default memo(CustomInput)","import React, {memo, useEffect} from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle, \r\n    Typography,\r\n    useTheme\r\n} from '@material-ui/core';\r\n\r\nimport {useAppSelector} from \"../../../context/hooks\";\r\nimport {ErrorCode} from \"../../../context/slices/notification\";\r\n\r\nconst CustomDialog = styled(Dialog)`\r\n  .MuiPaper-root {\r\n    color: ${({theme}) => theme.palette.error.main};\r\n    background-color: ${({theme}) => theme.palette.grayscale.dark};\r\n    opacity: 90%;\r\n  }\r\n\r\n  .MuiTypography-colorTextSecondary {\r\n    color: ${({theme}) => theme.palette.grayscale.light};\r\n  }\r\n`;\r\n\r\nconst NotificationAlert = () => {\r\n    const {notification, type} = useAppSelector(state => state.error)\r\n\r\n    const [open, setOpen] = React.useState(false);\r\n    const theme = useTheme()\r\n\r\n    const handleClose = (event: React.SyntheticEvent | React.MouseEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n        window.location.reload()\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (type === ErrorCode.PERMISSION_DENIED) {\r\n            setOpen(true)\r\n        }\r\n    }, [type])\r\n\r\n    return <CustomDialog open={open} onClose={handleClose} theme={theme}\r\n                         aria-labelledby=\"alert-dialog-title\"\r\n                         aria-describedby=\"alert-dialog-description\">\r\n        <DialogTitle id=\"alert-dialog-title\">{notification}</DialogTitle>\r\n        <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n                <Typography variant={\"h6\"}>Oppps! we can't find your location!</Typography>\r\n                <br/>\r\n                <Typography variant={\"subtitle2\"}>Activate your GPS in order to find you current location</Typography>\r\n            </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button onClick={handleClose} style={{color: theme.palette.error.main}} autoFocus>\r\n                OK!\r\n            </Button>\r\n        </DialogActions>\r\n    </CustomDialog>\r\n}\r\n\r\nexport default memo(NotificationAlert)","import { useCallback, useEffect, useState } from \"react\";\r\nimport { LatLngLiteral } from \"leaflet\";\r\n\r\nimport Notification from \"./Notification\";\r\nimport ZoomButton from \"./ZoomButton\";\r\nimport NavigationComponent from \"./Navigation\";\r\nimport ProductRequest from \"./ProductComponent\";\r\nimport CustomInput from \"./CustomInput\";\r\nimport NotificationAlert from \"./NotificationAlert\";\r\nimport { useAppDispatch, useAppSelector } from \"../../context/hooks\";\r\nimport { ErrorCode } from \"../../context/slices/notification\";\r\nimport { requestDirection } from \"../../context/slices/direction\";\r\n\r\n\r\nconst Dashboard = () => {\r\n\r\n    const [responsiveFlag, setResponsiveFlag] = useState<boolean>(false)\r\n    const dispatch = useAppDispatch()\r\n    const { configuration } = useAppSelector(state => state.direction)\r\n    const { type } = useAppSelector(state => state.error)\r\n\r\n\r\n    // TODO FOR TEST ONLY\r\n    const onSetTarget = useCallback((value: LatLngLiteral) => {\r\n        let param: Array<LatLngLiteral> = []\r\n        if (value.lat && value.lng) {\r\n            param.push(value)\r\n            dispatch({ type: 'direction/setConfiguration', payload: { target: param } })\r\n        }\r\n    }, [dispatch])\r\n\r\n    // TODO this logic will change, this dispatch is only for test, it most depend on the pending status\r\n    useEffect(() => {\r\n        if (configuration.target && configuration.departure.lat && configuration.departure.lng) {\r\n            dispatch(requestDirection())\r\n        }\r\n    }, [configuration.departure.lat, configuration.departure.lng, configuration.target, configuration.profile, dispatch])\r\n\r\n    useEffect(() => {\r\n        const updateDimensions = () => {\r\n            const width = window.innerWidth\r\n            if (width <= 600) {\r\n                setResponsiveFlag(true)\r\n            } else {\r\n                setResponsiveFlag(false)\r\n            }\r\n        }\r\n        window.addEventListener('resize', updateDimensions);\r\n        return () =>\r\n            window.removeEventListener('resize', updateDimensions);\r\n    }, [])\r\n\r\n    return <>\r\n        <NavigationComponent location={configuration.departure} responsive={responsiveFlag} />\r\n\r\n        <ZoomButton />\r\n\r\n        {\r\n            type === ErrorCode.PERMISSION_DENIED ? <NotificationAlert /> : <Notification />\r\n        }\r\n\r\n        <ProductRequest responsiveFlag={responsiveFlag} />\r\n\r\n        // TODO FOR TEST ONLY\r\n        <CustomInput onSetTarget={onSetTarget} />\r\n    </>\r\n}\r\n\r\nexport default Dashboard","import {Marker, Popup} from \"react-leaflet\";\r\nimport {DivIcon, LatLngLiteral} from \"leaflet\";\r\nimport {FC, memo, ReactNode, useMemo} from \"react\";\r\n\r\ninterface MarkerProps {\r\n    position: LatLngLiteral,\r\n    icon?: DivIcon,\r\n    children?: ReactNode,\r\n    name?: string\r\n    description?: string\r\n}\r\n\r\nconst MarkerComponent: FC<MarkerProps> = ({position, icon, name, description}) => {\r\n    return useMemo(()=>(\r\n        <Marker position={position} icon={icon}>\r\n            <Popup>\r\n                <div>\r\n                    {name || 'A pretty CSS3 popup.'} <br/> {description || 'Easily customizable'}.\r\n                </div>\r\n            </Popup>\r\n        </Marker>\r\n    ),[description, icon, name, position])\r\n}\r\n\r\nexport default memo(MarkerComponent);","import {FC, memo, useEffect, useMemo, useRef, useState} from 'react';\r\nimport {renderToStaticMarkup} from 'react-dom/server';\r\nimport {LocationOn, PersonPinCircle} from '@material-ui/icons'\r\nimport {useTheme} from '@material-ui/core';\r\nimport {MapContainer, Polyline, TileLayer} from 'react-leaflet';\r\nimport L, {LatLngTuple} from 'leaflet';\r\n\r\nimport MarkerComponent from './marker';\r\nimport {MapProps} from './interfaces';\r\nimport {MAPBOX_TOKEN} from '../../services/credentials';\r\nimport {customStyles} from \"../../styles/theme\";\r\nimport {useAppSelector} from \"../../context/hooks\";\r\n\r\nconst MapComponent: FC<MapProps> = ({places}) => {\r\n    const customStyle = customStyles();\r\n    const {palette} = useTheme()\r\n    const mapRef = useRef<L.Map>()\r\n\r\n    const {zoom} = useAppSelector(state=>state.map)\r\n\r\n    const [polyline, setPolyline] = useState<Array<LatLngTuple>>([])\r\n\r\n    const {direction, configuration} = useAppSelector(state => state.direction)\r\n\r\n\r\n    useEffect(() => {\r\n        if (direction) {\r\n            setPolyline(direction.routes[0].geometry.coordinates)\r\n        }\r\n    }, [direction])\r\n\r\n    const centerIcon = useMemo(() => L.divIcon({\r\n        html: renderToStaticMarkup(\r\n            <PersonPinCircle className={customStyle.customMarker} style={{color: palette.primary.main}}/>),\r\n        popupAnchor: [2, -28]\r\n    }), [customStyle.customMarker, palette.primary.main])\r\n\r\n    const optionIcon = useMemo(() => L.divIcon({\r\n        html: renderToStaticMarkup(<LocationOn className={customStyle.customMarker}/>),\r\n        popupAnchor: [2, -28]\r\n    }), [customStyle.customMarker])\r\n\r\n    const whenCreatedHandler = (map: L.Map) => mapRef.current = map\r\n\r\n    useEffect(() => {\r\n        if (mapRef.current) {\r\n            mapRef.current.setView(configuration.departure, zoom);\r\n        }\r\n    }, [configuration.departure, zoom])\r\n\r\n    return <div className={customStyle.mapStyle} style={{margin: '-8px'}}>\r\n        <MapContainer zoom={zoom} center={configuration.departure} className={customStyle.mapStyle} zoomAnimation={true} scrollWheelZoom={true}\r\n                      zoomControl={false}\r\n                      whenCreated={whenCreatedHandler}>\r\n            <TileLayer\r\n                attribution='Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>'\r\n                url=\"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}\"\r\n                id={'mapbox/streets-v11'}\r\n                accessToken={MAPBOX_TOKEN}\r\n                tileSize={512}\r\n                zoomOffset={-1}\r\n            />\r\n            {\r\n                configuration.departure && <MarkerComponent position={configuration.departure} icon={centerIcon}/>\r\n            }\r\n            {\r\n                places && places.map((item: any, index: number) => {\r\n                    return <MarkerComponent position={item.coordinate} key={index} icon={optionIcon}/>\r\n                })\r\n            }\r\n            {\r\n                polyline.length > 0 && <Polyline pathOptions={{color: palette.error.main, weight: 5}}\r\n                                                               positions={polyline}/>\r\n            }\r\n        </MapContainer>\r\n    </div>\r\n}\r\n\r\nexport default memo(MapComponent);","import {Place} from \"../../components/Map/interfaces\";\r\nimport {places as listPlaces} from \"../../services/places\";\r\nimport {createSlice, PayloadAction} from '@reduxjs/toolkit'\r\n\r\nimport type {RootState} from '../store'\r\n\r\nexport interface DirectionType {\r\n    places: Array<Place>,\r\n}\r\n\r\nconst initialState: DirectionType = {\r\n    places: listPlaces\r\n}\r\n\r\nexport const placesSlice = createSlice({\r\n    name: 'places',\r\n    initialState: initialState,\r\n    reducers: {\r\n        addPlace: (state, action: PayloadAction<DirectionType>) => {\r\n            return {...action.payload}\r\n        }\r\n    }\r\n})\r\n\r\nexport const {addPlace} = placesSlice.actions\r\n\r\n// Other code such as selectors can use the imported `RootState` type\r\nexport const getPlaces = (state: RootState) => state.places\r\n\r\nexport default placesSlice.reducer","import {Place} from \"../components/Map/interfaces\";\r\n\r\nexport const places: Array<Place> =  [\r\n    {\r\n        coordinate: {\r\n            lat:25.684283415043094,\r\n            lng:-80.41913012972027\r\n        },\r\n        name: \"Publix Super Market at Higate Square\"\r\n    },\r\n    {\r\n        coordinate: {\r\n            lat: 25.672061446129067,\r\n            lng: -80.4312322559634\r\n        },\r\n        name: \"Fresco y Ms\"\r\n    },\r\n    {\r\n        coordinate: {\r\n            lat: 25.683939172142516,\r\n            lng: -80.43275405895899\r\n        },\r\n        name: \"Festival Supermarket\"\r\n    },\r\n    {\r\n        coordinate: {\r\n            lat: 25.714857552456085,\r\n            lng: -80.39435588386571\r\n        },\r\n        name: \"El Ranchito Marketplace\"\r\n    },\r\n    {\r\n        coordinate: {\r\n            lat: 25.713024753573123,\r\n            lng: -80.4330950291638\r\n        },\r\n        name: \"Presidente Supermarket\"\r\n    },\r\n    {\r\n        coordinate: {\r\n            lat: 25.715601288890685,\r\n            lng: -80.43029425388335\r\n        },\r\n        name: \"Sedano's Supermarket\"\r\n    },\r\n    {\r\n        coordinate: {\r\n            lat: 25.69125971191103,\r\n            lng: -80.3877791296447\r\n        },\r\n        name: \"Publix Super Market at Kendall Town & Country\"\r\n    },\r\n    {\r\n        coordinate: {\r\n            lat: 25.68687493692666,\r\n            lng: -80.40242022778254\r\n        },\r\n        name: \"Puerto Madero Miami\"\r\n    }\r\n]","import {useEffect, useState} from 'react';\r\n\r\nimport {useGetCurrentLocation, useGetToken} from './services';\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport MapComponent from \"./components/Map\";\r\nimport {getPlaces} from \"./context/slices/places\";\r\nimport {useAppSelector} from './context/hooks'\r\n\r\nfunction App() {\r\n\r\n    const [token, setToken] = useState<string>('')\r\n    useEffect(() => {\r\n        setToken(useGetToken)\r\n    }, [])\r\n\r\n    // ---- MAP variables\r\n    const {places} = useAppSelector(getPlaces)     //TODO temporary state\r\n\r\n    const {configuration} = useAppSelector(state => state.direction)\r\n\r\n    const options = {\r\n        enableHighAccuracy: true,\r\n        timeout: 1000, //* 60, // 1 min (1000 ms * 60 sec * 1 minute = 60 000ms)\r\n        maximumAge: 1000 * 3600 * 24 // 24 hour       : 27000\r\n    };\r\n    const cancelLocationWatch = useGetCurrentLocation(options)\r\n\r\n    useEffect(() => {\r\n        if (!configuration.departure.lat && !configuration.departure.lng) return;\r\n\r\n        setTimeout(() => {\r\n            cancelLocationWatch();\r\n        }, 6000);\r\n\r\n    }, [cancelLocationWatch, configuration.departure.lat, configuration.departure.lng]);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Dashboard />\r\n            <MapComponent places={places}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import {createGlobalStyle} from 'styled-components';\r\nimport {theme} from './theme'\r\n\r\nconst AppStyle = createGlobalStyle`\r\n  .leaflet-div-icon {\r\n    background: transparent;\r\n    border: none;\r\n  }\r\n\r\n  .MuiBottomNavigation-root{\r\n    background-color: ${theme.palette.grayscale.dark};\r\n  }\r\n`;\r\n\r\n\r\nexport default AppStyle","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\n\r\nexport interface MapType {\r\n    zoom: number,\r\n}\r\n\r\nconst initialState: MapType ={\r\n    zoom: 15\r\n}\r\n\r\nexport const mapSlice = createSlice ({\r\n    name:'map',\r\n    initialState: initialState,\r\n    reducers:{\r\n        changeZoom: (state, action:PayloadAction<MapType>)=> {\r\n            state.zoom = action.payload.zoom\r\n        },\r\n    }\r\n})\r\n\r\n\r\nexport const {changeZoom} = mapSlice.actions\r\n\r\nexport default mapSlice.reducer","import {configureStore} from \"@reduxjs/toolkit\";\r\nimport {combineReducers} from \"redux\";\r\nimport {placesSlice} from './slices/places'\r\nimport {mapSlice} from './slices/map'\r\nimport {directionSlice} from \"./slices/direction\";\r\nimport {notificationSlice} from \"./slices/notification\";\r\n\r\nconst reducer = combineReducers({\r\n    places: placesSlice.reducer,\r\n    map: mapSlice.reducer,\r\n    direction: directionSlice.reducer,\r\n    error: notificationSlice.reducer,\r\n})\r\n\r\nexport const store = configureStore({\r\n    reducer: reducer,\r\n    devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\n// Infer the `RootState` and `AppDispatch` types from the store itself\r\nexport type RootState = ReturnType<typeof store.getState>\r\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\r\nexport type DispatchState = typeof store.dispatch\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {ThemeProvider} from '@material-ui/core/styles';\r\nimport 'fontsource-roboto';\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nimport App from './App';\r\nimport {theme} from './styles/theme';\r\nimport AppStyle from './styles/appStyle';\r\nimport {store} from \"./context/store\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <ThemeProvider theme={theme}>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n            <AppStyle/>\r\n        </ThemeProvider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.register();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}